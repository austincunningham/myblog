(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2302c8"],{eac9:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("h1",[e._v("Debug Kubernetes Operator-sdk locally in Goland")]),a("p",[a("img",{attrs:{src:"https://thepracticaldev.s3.amazonaws.com/i/4n0nt3dyb3k20u8h7d7x.png",alt:""}})]),a("p",[e._v("This is a follow on from this "),a("a",{attrs:{href:"https://austincunningham.ddns.net/2019/operatorvscode"}},[e._v("article")]),e._v(" setting up the operator-sdk debug in vscode.")]),a("h2",[e._v("Setup Goland to debug")]),a("p",[e._v("The setup for Goland is pretty similar to Vscode.")]),a("p",[e._v("Delve is a debug tool for golang, it can be downloaded here https://github.com/go-delve/delve/tree/master/Documentation/installation or by just using go")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[e._v("go get -u github.com/go-delve/delve/cmd/dlv \n")])]),a("p",[e._v("In Goland go to "),a("code",{pre:!0},[e._v("Run\\Edit Configurations...")])]),a("p",[a("img",{attrs:{src:"https://thepracticaldev.s3.amazonaws.com/i/qf038nul6d8l4pe9yxze.png",alt:"Alt Text"}})]),a("p",[e._v("Click on the Plus symbol "),a("code",{pre:!0},[e._v("+")]),e._v(" and add "),a("code",{pre:!0},[e._v("Go Remote")]),e._v(" add a Name and click "),a("code",{pre:!0},[e._v("Apply")]),e._v(" the defaults are fine")]),a("p",[a("img",{attrs:{src:"https://thepracticaldev.s3.amazonaws.com/i/m7bjl80enlwc2kyz54zf.png",alt:"Alt Text"}})]),a("p",[e._v("You need to run delve with the command line switch "),a("code",{pre:!0},[e._v("--enable-delve")]),e._v(" on the "),a("code",{pre:!0},[e._v("up local")]),e._v(" command\ne.g. The operator I am working on is called "),a("code",{pre:!0},[e._v("integreatly-operator")]),e._v(" so the commands to run it are as follows")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[a("span",{pre:!0,attrs:{class:"hljs-comment"}},[e._v("# You need to set the namespace to watch ")]),e._v("\n$ "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[e._v("export")]),e._v(" WATCH_NAMESPACE=integreatly-operator\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[e._v("# You can then run the up local with delve enabled")]),e._v("\n$ operator-sdk up "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[e._v("local")]),e._v(" --namespace=integreatly-operator --"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[e._v("enable")]),e._v("-delve\n"),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[e._v("# you will see something like")]),e._v("\nINFO[0000] Running the operator locally.                \nINFO[0000] Using namespace integreatly-operator.        \nINFO[0000] Delve debugger enabled with args [--listen=:2345 --headless="),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[e._v("true")]),e._v(" --api-version=2 "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[e._v("exec")]),e._v(" build/_output/bin/integreatly-operator-local --] \nAPI server listening at: [::]:2345\n")])]),a("blockquote",[a("p",[a("em",[e._v("NOTE")]),e._v(": command changed with v0.15.0 "),a("code",{pre:!0},[e._v("operator-sdk run --local --namespace=integreatly-operator")])])]),a("p",[e._v("Click on "),a("code",{pre:!0},[e._v("Run\\Debug 'whatYouCallYourGoRemote'")])]),a("p",[e._v("Goland will start to debug and stop at your breakpoints.")]),a("p",[a("img",{attrs:{src:"https://thepracticaldev.s3.amazonaws.com/i/nvstfw858uifuqw2i7uv.gif",alt:"Alt Text"}})])])}],s=a("2877"),l={},r=Object(s["a"])(l,n,o,!1,null,null,null);t["default"]=r.exports}}]);
//# sourceMappingURL=chunk-2d2302c8.0a498328.js.map