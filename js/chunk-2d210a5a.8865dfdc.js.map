{"version":3,"sources":["webpack:///./src/markdown/2021/keycloakgithub.md?d3c6","webpack:///./src/markdown/2021/keycloakgithub.md"],"names":["render","_vm","this","_h","$createElement","_self","_c","_m","staticRenderFns","_v","attrs","pre","script","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAsBH,EAAII,MAAMC,GAAO,OAAOL,EAAIM,GAAG,IACnGC,EAAkB,CAAC,WAAa,IAAIP,EAAIC,KAASC,EAAGF,EAAIG,eAAmBE,EAAGL,EAAII,MAAMC,IAAIH,EAAG,OAAOG,EAAG,UAAU,CAACA,EAAG,KAAK,CAACL,EAAIQ,GAAG,mEAAmEH,EAAG,IAAI,CAACA,EAAG,MAAM,CAACI,MAAM,CAAC,IAAM,oFAAoF,IAAM,oBAAoBJ,EAAG,IAAI,CAACL,EAAIQ,GAAG,+MAA+MH,EAAG,IAAI,CAACA,EAAG,MAAM,CAACI,MAAM,CAAC,IAAM,oFAAoF,IAAM,gBAAgBJ,EAAG,IAAI,CAACL,EAAIQ,GAAG,sCAAsCH,EAAG,IAAI,CAACI,MAAM,CAAC,KAAO,iFAAiF,CAACT,EAAIQ,GAAG,UAAUR,EAAIQ,GAAG,OAAOH,EAAG,IAAI,CAACL,EAAIQ,GAAG,wFAAwFH,EAAG,IAAI,CAACI,MAAM,CAAC,KAAO,2DAA2D,CAACT,EAAIQ,GAAG,+BAA+BR,EAAIQ,GAAG,wIAAwIH,EAAG,IAAI,CAACI,MAAM,CAAC,KAAO,mDAAmD,CAACT,EAAIQ,GAAG,6BAA6BR,EAAIQ,GAAG,OAAOH,EAAG,IAAI,CAACL,EAAIQ,GAAG,kFAAkFH,EAAG,IAAI,CAACL,EAAIQ,GAAG,uBAAuBH,EAAG,OAAO,CAACK,KAAI,GAAM,CAACV,EAAIQ,GAAG,0BAA0BH,EAAG,IAAI,CAACL,EAAIQ,GAAG,iBAAiBH,EAAG,OAAO,CAACK,KAAI,GAAM,CAACV,EAAIQ,GAAG,kBAAkBR,EAAIQ,GAAG,kCAAkCH,EAAG,IAAI,CAACA,EAAG,MAAM,CAACI,MAAM,CAAC,IAAM,oFAAoF,IAAM,6DAA6DJ,EAAG,IAAI,CAACL,EAAIQ,GAAG,WAAWH,EAAG,OAAO,CAACK,KAAI,GAAM,CAACV,EAAIQ,GAAG,2BAA2BR,EAAIQ,GAAG,mBAAmBH,EAAG,OAAO,CAACK,KAAI,GAAM,CAACV,EAAIQ,GAAG,oBAAoBH,EAAG,IAAI,CAACA,EAAG,MAAM,CAACI,MAAM,CAAC,IAAM,oFAAoF,IAAM,gBAAgBJ,EAAG,IAAI,CAACL,EAAIQ,GAAG,oBAAoBH,EAAG,OAAO,CAACK,KAAI,GAAM,CAACV,EAAIQ,GAAG,gBAAgBH,EAAG,IAAI,CAACA,EAAG,MAAM,CAACI,MAAM,CAAC,IAAM,oFAAoF,IAAM,gCAAgCJ,EAAG,IAAI,CAACL,EAAIQ,GAAG,qBAAqBH,EAAG,OAAO,CAACK,KAAI,GAAM,CAACV,EAAIQ,GAAG,0BAA0BH,EAAG,IAAI,CAACA,EAAG,MAAM,CAACI,MAAM,CAAC,IAAM,oFAAoF,IAAM,0BAA0BJ,EAAG,IAAI,CAACL,EAAIQ,GAAG,OAAOH,EAAG,OAAO,CAACK,KAAI,GAAM,CAACV,EAAIQ,GAAG,wBAAwBR,EAAIQ,GAAG,YAAYH,EAAG,OAAO,CAACK,KAAI,GAAM,CAACV,EAAIQ,GAAG,kBAAkBH,EAAG,IAAI,CAACL,EAAIQ,GAAG,cAAcH,EAAG,OAAO,CAACK,KAAI,GAAM,CAACV,EAAIQ,GAAG,mBAAmBR,EAAIQ,GAAG,aAAaH,EAAG,IAAI,CAACA,EAAG,MAAM,CAACI,MAAM,CAAC,IAAM,oFAAoF,IAAM,4BAA4BJ,EAAG,IAAI,CAACL,EAAIQ,GAAG,WAAWH,EAAG,OAAO,CAACK,KAAI,GAAM,CAACV,EAAIQ,GAAG,wCAAwCH,EAAG,IAAI,CAACL,EAAIQ,GAAG,UAAUH,EAAG,OAAO,CAACK,KAAI,GAAM,CAACV,EAAIQ,GAAG,wBAAwBH,EAAG,IAAI,CAACL,EAAIQ,GAAG,UAAUH,EAAG,OAAO,CAACK,KAAI,GAAM,CAACV,EAAIQ,GAAG,kBAAkBR,EAAIQ,GAAG,0CAA0CH,EAAG,IAAI,CAACL,EAAIQ,GAAG,QAAQH,EAAG,OAAO,CAACK,KAAI,GAAM,CAACV,EAAIQ,GAAG,gCAAgCR,EAAIQ,GAAG,+DAA+DH,EAAG,IAAI,CAACL,EAAIQ,GAAG,mBAAmBH,EAAG,OAAO,CAACK,KAAI,GAAM,CAACV,EAAIQ,GAAG,0BAA0BR,EAAIQ,GAAG,aAAaH,EAAG,IAAI,CAACA,EAAG,MAAM,CAACI,MAAM,CAAC,IAAM,oFAAoF,IAAM,sCAAsCJ,EAAG,IAAI,CAACL,EAAIQ,GAAG,0CAA0CH,EAAG,OAAO,CAACK,KAAI,GAAM,CAACV,EAAIQ,GAAG,eAAeR,EAAIQ,GAAG,SAASH,EAAG,OAAO,CAACK,KAAI,GAAM,CAACV,EAAIQ,GAAG,kCAAkCR,EAAIQ,GAAG,sBAAsBH,EAAG,IAAI,CAACA,EAAG,MAAM,CAACI,MAAM,CAAC,IAAM,oFAAoF,IAAM,gCAAgCJ,EAAG,IAAI,CAACL,EAAIQ,GAAG,2DAA2DH,EAAG,OAAO,CAACK,KAAI,GAAM,CAACV,EAAIQ,GAAG,2BAA2BR,EAAIQ,GAAG,kBAAkBH,EAAG,OAAO,CAACK,KAAI,GAAM,CAACV,EAAIQ,GAAG,eAAeR,EAAIQ,GAAG,SAASH,EAAG,OAAO,CAACK,KAAI,GAAM,CAACV,EAAIQ,GAAG,mBAAmBR,EAAIQ,GAAG,gCAAgCH,EAAG,IAAI,CAACA,EAAG,MAAM,CAACI,MAAM,CAAC,IAAM,oFAAoF,IAAM,gCAAgCJ,EAAG,IAAI,CAACL,EAAIQ,GAAG,kHAAkHH,EAAG,IAAI,CAACA,EAAG,MAAM,CAACI,MAAM,CAAC,IAAM,oFAAoF,IAAM,4BAA4BJ,EAAG,IAAI,CAACL,EAAIQ,GAAG,0HAA0HH,EAAG,MAAM,CAACK,KAAI,GAAM,CAACL,EAAG,OAAO,CAACK,KAAI,EAAKD,MAAM,CAAC,QAAQ,GAAG,MAAQ,gBAAgB,CAACJ,EAAG,OAAO,CAACK,KAAI,EAAKD,MAAM,CAAC,MAAQ,iBAAiB,CAACT,EAAIQ,GAAG,SAASR,EAAIQ,GAAG,gBAAgBH,EAAG,OAAO,CAACK,KAAI,EAAKD,MAAM,CAAC,MAAQ,iBAAiB,CAACT,EAAIQ,GAAG,SAASR,EAAIQ,GAAG,gBAAgBH,EAAG,OAAO,CAACK,KAAI,EAAKD,MAAM,CAAC,MAAQ,cAAc,CAACT,EAAIQ,GAAG,WAAWR,EAAIQ,GAAG,2BAA2BH,EAAG,IAAI,CAACL,EAAIQ,GAAG,uDAAuDH,EAAG,MAAM,CAACK,KAAI,GAAM,CAACL,EAAG,OAAO,CAACK,KAAI,EAAKD,MAAM,CAAC,QAAQ,GAAG,MAAQ,gBAAgB,CAACJ,EAAG,OAAO,CAACK,KAAI,EAAKD,MAAM,CAAC,MAAQ,iBAAiB,CAACT,EAAIQ,GAAG,SAASR,EAAIQ,GAAG,gBAAgBH,EAAG,OAAO,CAACK,KAAI,EAAKD,MAAM,CAAC,MAAQ,iBAAiB,CAACT,EAAIQ,GAAG,SAASR,EAAIQ,GAAG,gBAAgBH,EAAG,OAAO,CAACK,KAAI,EAAKD,MAAM,CAAC,MAAQ,cAAc,CAACT,EAAIQ,GAAG,WAAWR,EAAIQ,GAAG,mBAAmBH,EAAG,OAAO,CAACK,KAAI,EAAKD,MAAM,CAAC,MAAQ,cAAc,CAACT,EAAIQ,GAAG,aAAaR,EAAIQ,GAAG,MAAMH,EAAG,OAAO,CAACK,KAAI,EAAKD,MAAM,CAAC,MAAQ,gBAAgB,CAACT,EAAIQ,GAAG,cAAcR,EAAIQ,GAAG,cAAcH,EAAG,IAAI,CAACL,EAAIQ,GAAG,wCAAwCH,EAAG,IAAI,CAACA,EAAG,MAAM,CAACI,MAAM,CAAC,IAAM,oFAAoF,IAAM,2DAA2DJ,EAAG,IAAI,CAACA,EAAG,SAAS,CAACL,EAAIQ,GAAG,UAAUR,EAAIQ,GAAG,mI,YCAplMG,EAAS,GAKTC,EAAY,eACdD,EACAZ,EACAQ,GACA,EACA,KACA,KACA,MAIa,aAAAK,E","file":"js/chunk-2d210a5a.8865dfdc.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('h1',[_vm._v(\"Setting up Keycloak using Github Identity provider in Express\")]),_c('p',[_c('img',{attrs:{\"src\":\"https://dev-to-uploads.s3.amazonaws.com/uploads/articles/fwj1s9zqokkmdu16rxek.png\",\"alt\":\"banner image\"}})]),_c('p',[_vm._v(\"First what is meant by by Identity provider? it's allowing a third party to handle your authentication to your application like Facebook, Github or Linkedin see keycloaks supported list below in image.\")]),_c('p',[_c('img',{attrs:{\"src\":\"https://dev-to-uploads.s3.amazonaws.com/uploads/articles/s12p4md845hs83y7azaa.png\",\"alt\":\"Alt Text\"}})]),_c('p',[_vm._v(\"Setting up idp is well documented \"),_c('a',{attrs:{\"href\":\"https://www.keycloak.org/docs/latest/server_admin/#social-identity-providers\"}},[_vm._v(\"here\")]),_vm._v(\".\")]),_c('p',[_vm._v(\"In this example I will use Github. I have a previous blog detailing how to setup an \"),_c('a',{attrs:{\"href\":\"https://austincunningham.ddns.net/2017/keycloakexpress\"}},[_vm._v(\"Express app with Keycloak\")]),_vm._v(\". This basically covers setting up a keycloak realm , client,  user, and adding the keycloak.json to your express app and using the \"),_c('a',{attrs:{\"href\":\"https://www.npmjs.com/package/keycloak-connect\"}},[_vm._v(\"keycloak-connect module\")]),_vm._v(\".\")]),_c('p',[_vm._v(\"Once you have your app setup with Keycloak you can add an identity provider.\")]),_c('p',[_vm._v(\"In Keycloak select \"),_c('code',{pre:true},[_vm._v(\"Identity Providers\")])]),_c('p',[_vm._v(\"Click on the \"),_c('code',{pre:true},[_vm._v(\"Add provider\")]),_vm._v(\" drop down and select Github\")]),_c('p',[_c('img',{attrs:{\"src\":\"https://dev-to-uploads.s3.amazonaws.com/uploads/articles/hhzfhu7xmo6gr25avapi.png\",\"alt\":\"Click on the Add provider drop down and select Github\"}})]),_c('p',[_vm._v(\"In the \"),_c('code',{pre:true},[_vm._v(\"Add identity provider\")]),_vm._v(\" page copy the \"),_c('code',{pre:true},[_vm._v(\"Redirect URI\")])]),_c('p',[_c('img',{attrs:{\"src\":\"https://dev-to-uploads.s3.amazonaws.com/uploads/articles/c8ve0y9aqecjg4i2lgzr.png\",\"alt\":\"Alt Text\"}})]),_c('p',[_vm._v(\"In Github go to \"),_c('code',{pre:true},[_vm._v(\"Settings\")])]),_c('p',[_c('img',{attrs:{\"src\":\"https://dev-to-uploads.s3.amazonaws.com/uploads/articles/z8inxoz1x6lfu4igggg0.png\",\"alt\":\"In Github go to Settings\"}})]),_c('p',[_vm._v(\"In Setting go to \"),_c('code',{pre:true},[_vm._v(\"Developer Settings\")])]),_c('p',[_c('img',{attrs:{\"src\":\"https://dev-to-uploads.s3.amazonaws.com/uploads/articles/xae004ttg72n85s1z0kq.png\",\"alt\":\"Developer Settings\"}})]),_c('p',[_vm._v(\"In \"),_c('code',{pre:true},[_vm._v(\"Developer Settings\")]),_vm._v(\" select \"),_c('code',{pre:true},[_vm._v(\"OAuth Apps\")])]),_c('p',[_vm._v(\"Click the \"),_c('code',{pre:true},[_vm._v(\"New OAuth App\")]),_vm._v(\" button\")]),_c('p',[_c('img',{attrs:{\"src\":\"https://dev-to-uploads.s3.amazonaws.com/uploads/articles/op2celyrsoxv2bcw3r4y.png\",\"alt\":\"New OAuth App button\"}})]),_c('p',[_vm._v(\"In the \"),_c('code',{pre:true},[_vm._v(\"Register a new OAuth application\")])]),_c('p',[_vm._v(\"Add a \"),_c('code',{pre:true},[_vm._v(\"Application Name\")])]),_c('p',[_vm._v(\"Add a \"),_c('code',{pre:true},[_vm._v(\"Homepage URL\")]),_vm._v(\" (in this case I am running locally)\")]),_c('p',[_vm._v(\"Add \"),_c('code',{pre:true},[_vm._v(\"Authorization callback URL\")]),_vm._v(\" (we copied this earlier from keycloak i.e. Redirect URI)\")]),_c('p',[_vm._v(\"Then click the \"),_c('code',{pre:true},[_vm._v(\"Register application\")]),_vm._v(\" button\")]),_c('p',[_c('img',{attrs:{\"src\":\"https://dev-to-uploads.s3.amazonaws.com/uploads/articles/q1zvd1ra9djzn9d8vcx5.png\",\"alt\":\"Register new OAuth application\"}})]),_c('p',[_vm._v(\"In the follow on page you can get the \"),_c('code',{pre:true},[_vm._v(\"Client ID\")]),_vm._v(\" and \"),_c('code',{pre:true},[_vm._v(\"Generate a new Client secret\")]),_vm._v(\" with the button\")]),_c('p',[_c('img',{attrs:{\"src\":\"https://dev-to-uploads.s3.amazonaws.com/uploads/articles/3n6seoz2uvieoopyz91h.png\",\"alt\":\"get client id and secret\"}})]),_c('p',[_vm._v(\"Copy the Client ID and Client secret\\nBack in Keycloak \"),_c('code',{pre:true},[_vm._v(\"Add identity provider\")]),_vm._v(\" page add the \"),_c('code',{pre:true},[_vm._v(\"Client ID\")]),_vm._v(\" and \"),_c('code',{pre:true},[_vm._v(\"Client secret\")]),_vm._v(\" and click the save button\")]),_c('p',[_c('img',{attrs:{\"src\":\"https://dev-to-uploads.s3.amazonaws.com/uploads/articles/6y0esx38x4qc6ao8hrv4.png\",\"alt\":\"add client id and secret\"}})]),_c('p',[_vm._v(\"As you can see when a protected route is clicked we get redirected to keycloak and have an option for github\")]),_c('p',[_c('img',{attrs:{\"src\":\"https://dev-to-uploads.s3.amazonaws.com/uploads/articles/spqq6ismtuf2oejlahv3.gif\",\"alt\":\"Show github redirect\"}})]),_c('p',[_vm._v(\"One final refinement we don't want show our users two different ways to login, so we change the Keycloak object from\")]),_c('pre',{pre:true},[_c('code',{pre:true,attrs:{\"v-pre\":\"\",\"class\":\"language-js\"}},[_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"var\")]),_vm._v(\" keycloak = \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"new\")]),_vm._v(\" Keycloak({ \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-attr\"}},[_vm._v(\"store\")]),_vm._v(\": memoryStore });\\n\")])]),_c('p',[_vm._v(\"Add an idp hint to the Keycloak object as follows\")]),_c('pre',{pre:true},[_c('code',{pre:true,attrs:{\"v-pre\":\"\",\"class\":\"language-js\"}},[_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"var\")]),_vm._v(\" keycloak = \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"new\")]),_vm._v(\" Keycloak({ \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-attr\"}},[_vm._v(\"store\")]),_vm._v(\": memoryStore, \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-attr\"}},[_vm._v(\"idpHint\")]),_vm._v(\": \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-string\"}},[_vm._v(\"'github'\")]),_vm._v(\" });\\n\")])]),_c('p',[_vm._v(\"And our login flow looks like this\")]),_c('p',[_c('img',{attrs:{\"src\":\"https://dev-to-uploads.s3.amazonaws.com/uploads/articles/46dg8oqoggxmrjrvmzvu.gif\",\"alt\":\"Show github redirect without keycloak login screen \"}})]),_c('p',[_c('strong',[_vm._v(\"NOTE\")]),_vm._v(\": As I am logged into Github and have an active session I am not redirected to the Github login I just have to authorize.\")])])}]\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./keycloakgithub.md?vue&type=template&id=911a53f8&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}