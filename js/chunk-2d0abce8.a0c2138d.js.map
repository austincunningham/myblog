{"version":3,"sources":["webpack:///./src/markdown/2022/operatorsidebyside.md?52fa","webpack:///./src/markdown/2022/operatorsidebyside.md"],"names":["render","_vm","this","_h","$createElement","_self","_c","_m","staticRenderFns","_v","attrs","pre","script","component"],"mappings":"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","file":"js/chunk-2d0abce8.a0c2138d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('h1',[_vm._v(\"Running two Kubernetes Operators locally\")]),_c('p',[_c('img',{attrs:{\"src\":\"https://dev-to-uploads.s3.amazonaws.com/uploads/articles/jvq1ntix4s683l515r7p.png\",\"alt\":\"\"}})]),_c('p',[_vm._v(\"From time to time you may wish to run two or more Kubernetes Operators locally for debugging purposes. If you try and run a second operator locally the second operator will shutdown you will hit an error like\")]),_c('pre',{pre:true},[_c('code',{pre:true,attrs:{\"v-pre\":\"\",\"class\":\"language-bash\"}},[_vm._v(\"WATCH_NAMESPACE=$(MY-OPERATOR-NAMESPACE) go run ./main.go\\n2022-01-07T15:16:11.786Z        INFO    controller-runtime.metrics      metrics server is starting to listen    {\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-string\"}},[_vm._v(\"\\\"addr\\\"\")]),_vm._v(\": \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-string\"}},[_vm._v(\"\\\":8383\\\"\")]),_vm._v(\"}\\n2022-01-07T15:16:11.787Z        ERROR   controller-runtime.metrics      metrics server failed to listen. You may want to \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-built_in\"}},[_vm._v(\"disable\")]),_vm._v(\" the metrics server or use another port \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"if\")]),_vm._v(\" it is due to conflicts       {\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-string\"}},[_vm._v(\"\\\"error\\\"\")]),_vm._v(\": \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-string\"}},[_vm._v(\"\\\"error listening on :8383: listen tcp :8383: bind: address already in use\\\"\")]),_vm._v(\"}\\n\")])]),_c('p',[_vm._v(\"So the metric port is already used.The \"),_c('a',{attrs:{\"href\":\"https://sdk.operatorframework.io/\"}},[_vm._v(\"Operator SDK\")]),_vm._v(\" generates ports for metrics and health automatically. These are set in the main.go\")]),_c('pre',{pre:true},[_c('code',{pre:true,attrs:{\"v-pre\":\"\",\"class\":\"language-golang\"}},[_c('span',{pre:true,attrs:{\"class\":\"hljs-function\"}},[_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"func\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-title\"}},[_vm._v(\"main\")]),_c('span',{pre:true,attrs:{\"class\":\"hljs-params\"}},[_vm._v(\"()\")])]),_vm._v(\" {\\n\\t\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"var\")]),_vm._v(\" metricsAddr \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"string\")]),_vm._v(\"\\n\\t\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"var\")]),_vm._v(\" enableLeaderElection \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"bool\")]),_vm._v(\"\\n\\t\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"var\")]),_vm._v(\" probeAddr \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"string\")]),_vm._v(\"\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-comment\"}},[_vm._v(\"//Change the port numbers on the metrics-bind-address and health-probe-bind-address to a free port number\")]),_vm._v(\"\\n\\tflag.StringVar(&metricsAddr, \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-string\"}},[_vm._v(\"\\\"metrics-bind-address\\\"\")]),_vm._v(\", \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-string\"}},[_vm._v(\"\\\":8383\\\"\")]),_vm._v(\", \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-string\"}},[_vm._v(\"\\\"The address the metric endpoint binds to.\\\"\")]),_vm._v(\")\\n\\tflag.StringVar(&probeAddr, \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-string\"}},[_vm._v(\"\\\"health-probe-bind-address\\\"\")]),_vm._v(\", \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-string\"}},[_vm._v(\"\\\":8081\\\"\")]),_vm._v(\", \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-string\"}},[_vm._v(\"\\\"The address the probe endpoint binds to.\\\"\")]),_vm._v(\")\\n\")])]),_c('p',[_vm._v(\"As you can see there are two port assignments here \"),_c('code',{pre:true},[_vm._v(\"metrics-bind-address\")]),_vm._v(\" and \"),_c('code',{pre:true},[_vm._v(\"health-probe-bind-address\")]),_vm._v(\". These ports will be occupied on your machine by the first operator you run. You should change both to a free port numbers if you wish to run a second operator side by side locally, otherwise you will get a port conflict. You should now be able to \"),_c('a',{attrs:{\"href\":\"https://austincunningham.ddns.net/2021/operatorv1vscode\"}},[_vm._v(\"debug\")]),_vm._v(\" both operators at once while running locally. Operators built with an older version of the Operator-sdk won't have the health-probe port.\")]),_c('blockquote',[_c('p',[_c('strong',[_vm._v(\"NOTE:\")]),_vm._v(\" Sometimes the Operator gets stuck shutting down and you have to release the ports manually by killing the stuck process\")])]),_c('pre',{pre:true},[_c('code',{pre:true,attrs:{\"v-pre\":\"\",\"class\":\"language-bash\"}},[_c('span',{pre:true,attrs:{\"class\":\"hljs-comment\"}},[_vm._v(\"# Get the process on the port metric port e.g. 8383\")]),_vm._v(\"\\nnetstat -ltnp | grep -w \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-string\"}},[_vm._v(\"':8383'\")]),_vm._v(\"\\ntcp6       0      0 :::8383   :::*  LISTEN      1480861/main\\n\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-comment\"}},[_vm._v(\"# kill the stuck process \")]),_vm._v(\"\\nsudo \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-built_in\"}},[_vm._v(\"kill\")]),_vm._v(\" -9 1480861\\n\")])])])}]\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./operatorsidebyside.md?vue&type=template&id=610303ca&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}