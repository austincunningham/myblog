(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d215c83"],{c055:function(e,a,t){"use strict";t.r(a);var n=function(){var e=this,a=e.$createElement;e._self._c;return e._m(0)},s=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("section",[t("h1",[e._v("Change Login Theme in Keycloak Docker image")]),t("p",[t("img",{attrs:{src:"https://dev-to-uploads.s3.amazonaws.com/i/ilddz1cwb0oibjn5cw8i.jpeg",alt:""}})]),t("p",[e._v("I was asked a question around how to change the theme in the Keycloak docker image and I had never tried it. So it was worth a blog. First pull the original image")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[e._v("docker pull jboss/keycloak\n")])]),t("p",[e._v("Then start the image")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[t("span",{pre:!0,attrs:{class:"hljs-comment"}},[e._v("# Get the image ")]),e._v("\ndocker images\nREPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\njboss/keycloak      latest              d9fadb38a379        10 days ago         739MB\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[e._v("# Then start the image with your username and password")]),e._v("\ndocker run -p 8080:8080 -e KEYCLOAK_USER=admin -e KEYCLOAK_PASSWORD=admin jboss/keycloak\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[e._v("# Get the container id")]),e._v("\ndocker ps\nCONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                              NAMES\n47dd5c82b073        jboss/keycloak      "),t("span",{pre:!0,attrs:{class:"hljs-string"}},[e._v('"/opt/jboss/tools/doâ€¦"')]),e._v("   18 minutes ago      Up 4 minutes        0.0.0.0:8080->8080/tcp, 8443/tcp   angry_bouman\n")])]),t("p",[e._v("Login to the container with the CONTAINER ID")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[e._v("docker "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[e._v("exec")]),e._v(" -it 47dd5c82b073 bin/bash\n")])]),t("p",[e._v("Create a directory for your theme in the container")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[e._v("mkdir /opt/jboss/keycloak/themes/raincatcher-theme\n")])]),t("p",[e._v("I blogged about creating a custom theme "),t("a",{attrs:{href:"https://austincunningham.ddns.net/2017/themekeycloak"}},[e._v("here")]),e._v(" so I have a git repo with a theme so I cloned it to my local machine")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[e._v("git "),t("span",{pre:!0,attrs:{class:"hljs-built_in"}},[e._v("clone")]),e._v(" https://github.com/austincunningham/raincatcher-keycloak-theme.git\n")])]),t("p",[e._v("Copied the contents of the theme directory from my local machine to the new directory on the running container")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[e._v("docker cp raincatcher-keycloak-theme/. 47dd5c82b073:/opt/jboss/keycloak/themes/raincatcher-theme\n")])]),t("p",[e._v("Restart the container")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[e._v("docker restart 47dd5c82b073\n")])]),t("p",[e._v("You should be able to select the image from the drop down once the container restarts")]),t("p",[t("img",{attrs:{src:"https://miro.medium.com/max/1400/1*MWi1EcA2pd6sSNA_-H1u5A.png",alt:""}})]),t("p",[e._v("Exit the "),t("code",{pre:!0},[e._v("docker exec")])]),t("p",[e._v("So that it , you will need to build a new image from the container and tag and push the image to save your changes.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[t("span",{pre:!0,attrs:{class:"hljs-comment"}},[e._v("# create a new image")]),e._v("\ndocker commit 47dd5c82b073 keycloak-raincatcher-theme\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[e._v("# get the image")]),e._v("\ndocker images\nREPOSITORY                   TAG                 IMAGE ID            CREATED             SIZE\nkeycloak-raincatcher-theme   latest              e4b21b3b1d08        3 minutes ago       742MB\njboss/keycloak               latest              d9fadb38a379        10 days ago         739MB\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[e._v("# tag the image")]),e._v("\ndocker tag e4b21b3b1d08 austincunningham/keycloak-raincatcher-theme:tryme\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[e._v("# Push the image to your container registry ")]),e._v("\ndocker push austincunningham/keycloak-raincatcher-theme\nThe push refers to repository [docker.io/austincunningham/keycloak-raincatcher-theme]\n2d33410048d1: Pushed \nfb389e3f2046: Pushed \nfca96e33d836: Pushed \n78a4ef8d1c42: Pushed \n133b5003f6eb: Pushed \n1776c40df06e: Pushed \ntryme: digest: sha256:3b6f1975247fc7ed01a67538b34d8c04155e07ee78a9235e076c71f1ba81c0a4 size: 1581\n")])]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[t("span",{pre:!0,attrs:{class:"hljs-comment"}},[e._v("# My docker image can be got here")]),e._v("\ndocker pull austincunningham/keycloak-raincatcher-theme\n"),t("span",{pre:!0,attrs:{class:"hljs-comment"}},[e._v("# And run with ")]),e._v("\ndocker run -p 8080:8080 -e KEYCLOAK_USER=admin -e KEYCLOAK_PASSWORD=admin austincunningham/keycloak-raincatcher-theme:tryme\n")])])])}],r=t("2877"),c={},o=Object(r["a"])(c,n,s,!1,null,null,null);a["default"]=o.exports}}]);
//# sourceMappingURL=chunk-2d215c83.257f82de.js.map