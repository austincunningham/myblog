(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2102b9"],{b76d:function(e,n,a){"use strict";a.r(n);var s=function(){var e=this,n=e.$createElement;e._self._c;return e._m(0)},r=[function(){var e=this,n=e.$createElement,a=e._self._c||n;return a("section",[a("h1",[e._v("Create an Electron app on Fedora")]),a("p",[a("img",{attrs:{src:"https://dev-to-uploads.s3.amazonaws.com/uploads/articles/7hyfju5mp1c75bjco3wc.png",alt:"banner image"}})]),a("h2",[e._v("Creating the Electron App")]),a("p",[e._v("Wanted to play around with creating a desktop app with Electron on Fedora. Followed the "),a("a",{attrs:{href:"https://www.electronjs.org/docs/latest/tutorial/quick-start"}},[e._v("quick start guide")]),e._v(" for Electron changing the "),a("code",{pre:!0},[e._v("win.loadFile")]),e._v(" to "),a("code",{pre:!0},[e._v("win.loadURL")]),e._v(" to load an existing web app. Code is "),a("a",{attrs:{href:"https://github.com/austincunningham/electron-github"}},[e._v("here")]),e._v(" here is my main.js")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("const")]),e._v(" { app, BrowserWindow } = "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[e._v("require")]),e._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[e._v("'electron'")]),e._v(")\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("const")]),e._v(" path = "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[e._v("require")]),e._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[e._v("'path'")]),e._v(")\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("const")]),e._v(" createWindow = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[e._v("()")]),e._v(" =>")]),e._v(" {\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("const")]),e._v(" win = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("new")]),e._v(" BrowserWindow({\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[e._v("width")]),e._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("1200")]),e._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[e._v("height")]),e._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("850")]),e._v(",\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[e._v("webPreferences")]),e._v(": {\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[e._v("preload")]),e._v(": path.join(__dirname, "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[e._v("'preload.js'")]),e._v(")\n    }\n  })\n\n  win.loadURL("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[e._v("'https://austincunningham.github.io/Git_Repos_Rest_API/lab-4.1-Github-API/index.html'")]),e._v(")\n\n}\n\napp.whenReady().then("),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[e._v("()")]),e._v(" =>")]),e._v(" {\n  createWindow()\n\n  app.on("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[e._v("'activate'")]),e._v(", "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("function")]),e._v(" ("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),e._v(") ")]),e._v("{\n    "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("if")]),e._v(" (BrowserWindow.getAllWindows().length === "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("0")]),e._v(") createWindow()\n  })\n\n})\n\napp.on("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[e._v("'window-all-closed'")]),e._v(", () => {\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("if")]),e._v(" (process.platform !== "),a("span",{pre:!0,attrs:{class:"hljs-string"}},[e._v("'darwin'")]),e._v(") app.quit()\n})\n")])]),a("p",[e._v("Testing the app by running "),a("code",{pre:!0},[e._v("npm start")]),e._v(" and the app opens")]),a("p",[a("img",{attrs:{src:"https://dev-to-uploads.s3.amazonaws.com/uploads/articles/l6bq735g2m2f64knrwb2.png",alt:"Image of the app open"}})]),a("p",[e._v("That seems straight forward.")]),a("h2",[e._v("Building the binary")]),a("p",[e._v("Again following the "),a("a",{attrs:{href:"https://www.electronjs.org/docs/latest/tutorial/quick-start#package-and-distribute-your-application"}},[e._v("quick start guide")]),e._v(" I get to the "),a("code",{pre:!0},[e._v("npm run make")]),e._v(" command here is where I hit some trouble")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[e._v("npm run make\n\n> electron-github@1.0.0 make /home/austincunningham/repo/electron-github\n> electron-forge make\n\n✔ Checking your system\n✔ Resolving Forge Config\n\nAn unhandled rejection has occurred inside Forge:\nError: Cannot make "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("for")]),e._v(" deb, the following external binaries need to be installed: dpkg, fakeroot\n\nElectron Forge was terminated. Location:\n")])]),a("p",[e._v("So I install the missing dependencies")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[e._v("sudo dnf install dpkg\nsudo dnf install fakeroot\n")])]),a("p",[e._v("I rerun the "),a("code",{pre:!0},[e._v("npm run make")]),e._v(" command")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[e._v("npm run make\n\n> electron-github@1.0.0 make /home/austincunningham/repo/electron-github\n> electron-forge make\n\n✔ Checking your system\n✔ Resolving Forge Config\n\nAn unhandled rejection has occurred inside Forge:\nError: Cannot make "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("for")]),e._v(" rpm, the following external binaries need to be installed: rpmbuild\n\nElectron Forge was terminated. Location:\n")])]),a("p",[e._v("So I guess there is another missing dependency I try and install "),a("code",{pre:!0},[e._v("rpmbuild")])]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[e._v("sudo dnf install rpmbuild\nNo match "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("for")]),e._v(" argument: rpmbuild\nError: Unable to find a match: rpmbuild\n")])]),a("p",[e._v("I figure it rpm related so Googled it and find https://www.redhat.com/sysadmin/create-rpm-package\nI install the dependencies from the blog")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[e._v("sudo dnf install -y rpmdevtools rpmlint\n")])]),a("p",[e._v("And happy days the "),a("code",{pre:!0},[e._v("npm run make")]),e._v(" completes")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-bash"}},[e._v("npm run make                            \n\n> electron-github@1.0.0 make /home/austincunningham/repo/electron-github\n> electron-forge make\n\n✔ Checking your system\n✔ Resolving Forge Config\nWe need to package your application before we can make it\n✔ Preparing to Package Application "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("for")]),e._v(" arch: x64\n✔ Preparing native dependencies\n✔ Packaging Application\nMaking "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("for")]),e._v(" the following targets: deb, rpm\n✔ Making "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("for")]),e._v(" target: deb - On platform: linux - For arch: x64\n✔ Making "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("for")]),e._v(" target: rpm - On platform: linux - For arch: x64\n")])]),a("p",[e._v("It built the deb and rpm bundles, guessing need to be run on windows and mac to build their binaries. More to learn here but that's all for now.")])])}],t=a("2877"),o={},p=Object(t["a"])(o,s,r,!1,null,null,null);n["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2d2102b9.c6f0c72c.js.map